{% extends 'rental/new_base.html' %}
{% load static %}

{% block title %}LuxeDrive | Premium Car Rental Service{% endblock %}

{% block extra_css %}
<style>
    /* Home-specific styles */
    .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
        margin-top: 60px;
    }
    
    .feature-card {
        padding: 40px 30px;
        border-radius: var(--border-radius-lg);
        background-color: white;
        box-shadow: var(--shadow-md);
        text-align: center;
        transition: transform var(--transition-normal), box-shadow var(--transition-normal);
    }
    
    .feature-card:hover {
        transform: translateY(-10px);
        box-shadow: var(--shadow-lg);
    }
    
    .feature-icon {
        width: 80px;
        height: 80px;
        margin: 0 auto 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        color: var(--primary-color);
        background-color: rgba(58, 123, 213, 0.1);
        border-radius: 50%;
    }
    
    .feature-title {
        margin-bottom: 15px;
        font-weight: 600;
    }
    
    .feature-description {
        color: var(--neutral-600);
    }
    
    .testimonial-section {
        background-color: var(--neutral-50);
        padding: 80px 0;
    }
    
    .testimonial-card {
        background-color: white;
        border-radius: var(--border-radius-lg);
        padding: 30px;
        margin: 15px;
        box-shadow: var(--shadow-md);
        position: relative;
    }
    
    .testimonial-text {
        font-style: italic;
        margin-bottom: 20px;
        color: var(--neutral-700);
    }
    
    .testimonial-quote {
        font-size: 4rem;
        position: absolute;
        top: -15px;
        left: 20px;
        color: var(--primary-light);
        opacity: 0.2;
    }
    
    .testimonial-author {
        display: flex;
        align-items: center;
    }
    
    .author-avatar {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        margin-right: 15px;
        overflow: hidden;
    }
    
    .author-name {
        font-weight: 600;
        margin-bottom: 0;
    }
    
    .author-title {
        font-size: var(--small-font-size);
        color: var(--neutral-500);
    }
    
    .cta-section {
        background: linear-gradient(135deg, var(--secondary-color), var(--secondary-dark));
        color: white;
        padding: 80px 0;
        text-align: center;
    }
    
    .cta-title {
        font-size: 2.5rem;
        margin-bottom: 20px;
    }
    
    .cta-description {
        max-width: 700px;
        margin: 0 auto 30px;
        font-size: 1.1rem;
        opacity: 0.9;
    }
    
    .how-it-works {
        padding: 80px 0;
    }
    
    .step-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        padding: 0 20px;
        position: relative;
    }
    
    .step-number {
        background-color: var(--primary-color);
        color: white;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        margin-bottom: 20px;
    }
    
    .step-card:not(:last-child)::after {
        content: '';
        position: absolute;
        top: 20px;
        right: -30px;
        width: 60px;
        height: 2px;
        background-color: var(--neutral-300);
    }
    
    .fleet-section {
        background-color: var(--neutral-50);
        padding: 80px 0;
    }
    
    .car-types {
        margin-top: 40px;
    }
    
    .car-type-tabs {
        display: flex;
        justify-content: center;
        margin-bottom: 30px;
    }
    
    .car-type-tab {
        padding: 10px 20px;
        margin: 0 5px;
        background-color: transparent;
        border: none;
        border-bottom: 3px solid transparent;
        font-weight: 600;
        color: var(--neutral-600);
        cursor: pointer;
        transition: all var(--transition-normal);
    }
    
    .car-type-tab.active {
        color: var(--primary-color);
        border-bottom-color: var(--primary-color);
    }
    
    .car-type-tab:hover:not(.active) {
        color: var(--primary-dark);
        border-bottom-color: var(--neutral-300);
    }
    
    @media (max-width: 767.98px) {
        .step-card:not(:last-child)::after {
            display: none;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <div class="hero-content fade-in">
                    <h1 class="hero-title">Experience Luxury on Wheels</h1>
                    <p class="hero-subtitle">Rent premium vehicles for any occasion. From business trips to weekend getaways, we've got the perfect car for you.</p>
                    <div class="hero-buttons">
                        <a href="{% url 'car_list' %}" class="btn btn-light btn-lg">
                            <i class="fas fa-car"></i> Explore Our Fleet
                        </a>
                        <a href="#how-it-works" class="btn btn-outline-light btn-lg">
                            <i class="fas fa-info-circle"></i> How It Works
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 d-none d-lg-block">
                <img src="{% static 'img/hero-car.svg' %}" alt="Luxury Car" class="img-fluid slide-in-right">
            </div>
        </div>
    </div>
</section>

<!-- Search Form Section -->
<section class="container">
    <div class="search-form slide-in-up">
        <form action="{% url 'car_list' %}" method="get">
            <div class="row g-3">
                <div class="col-md-3">
                    <label for="pickup-date" class="form-label">Pick-up Date</label>
                    <input type="date" id="pickup-date" name="pickup_date" class="form-control" required>
                </div>
                <div class="col-md-3">
                    <label for="return-date" class="form-label">Return Date</label>
                    <input type="date" id="return-date" name="return_date" class="form-control" required>
                </div>
                <div class="col-md-4">
                    <label for="car-type" class="form-label">Vehicle Type</label>
                    <select id="car-type" name="car_type" class="form-select">
                        <option value="">All Types</option>
                        <option value="sedan">Sedan</option>
                        <option value="suv">SUV</option>
                        <option value="luxury">Luxury</option>
                        <option value="sports">Sports</option>
                    </select>
                </div>
                <div class="col-md-2 d-flex align-items-end">
                    <button type="submit" class="btn btn-primary btn-search">
                        <i class="fas fa-search"></i> Search
                    </button>
                </div>
            </div>
        </form>
    </div>
</section>

<!-- Features Section -->
<section class="container py-5">
    <div class="section-title fade-in">
        <h2>Why Choose LuxeDrive</h2>
        <p>Experience the difference with our premium service and exceptional fleet</p>
    </div>
    
    <div class="features-grid">
        <div class="feature-card fade-in" style="animation-delay: 0.1s;">
            <div class="feature-icon">
                <i class="fas fa-car-side"></i>
            </div>
            <h3 class="feature-title">Premium Vehicles</h3>
            <p class="feature-description">Our fleet consists of the latest models of luxury vehicles, maintained to the highest standards for your comfort and safety.</p>
        </div>
        
        <div class="feature-card fade-in" style="animation-delay: 0.2s;">
            <div class="feature-icon">
                <i class="fas fa-dollar-sign"></i>
            </div>
            <h3 class="feature-title">Best Price Guarantee</h3>
            <p class="feature-description">We offer the most competitive rates in the market, with no hidden charges and transparent pricing policy.</p>
        </div>
        
        <div class="feature-card fade-in" style="animation-delay: 0.3s;">
            <div class="feature-icon">
                <i class="fas fa-headset"></i>
            </div>
            <h3 class="feature-title">24/7 Support</h3>
            <p class="feature-description">Our customer service team is available around the clock to assist you with any inquiries or issues during your rental period.</p>
        </div>
        
        <div class="feature-card fade-in" style="animation-delay: 0.4s;">
            <div class="feature-icon">
                <i class="fas fa-map-marked-alt"></i>
            </div>
            <h3 class="feature-title">Convenient Locations</h3>
            <p class="feature-description">Multiple pickup and dropoff locations including airports, city centers, and strategic points for your convenience.</p>
        </div>
        
        <div class="feature-card fade-in" style="animation-delay: 0.5s;">
            <div class="feature-icon">
                <i class="fas fa-shield-alt"></i>
            </div>
            <h3 class="feature-title">Full Insurance</h3>
            <p class="feature-description">All our rentals come with comprehensive insurance coverage, providing you peace of mind throughout your journey.</p>
        </div>
        
        <div class="feature-card fade-in" style="animation-delay: 0.6s;">
            <div class="feature-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h3 class="feature-title">No Extra Fees</h3>
            <p class="feature-description">We believe in transparent pricing with no surprise charges. What you see is what you pay.</p>
        </div>
    </div>
</section>

<!-- Featured Cars Section -->
<section class="container py-5">
    <div class="section-title fade-in">
        <h2>Our Featured Vehicles</h2>
        <p>Explore our selection of premium cars available for your next journey</p>
    </div>
    
    <div class="row row-cols-1 row-cols-md-3 g-4">
        {% for car in cars %}
        <div class="col fade-in" style="animation-delay: {{ forloop.counter|add:'-1' }}00ms;">
            <div class="car-card">
                <div class="car-card-header">
                    {% if car.image %}
                        <img src="{{ car.image.url }}" alt="{{ car.name }}" class="car-card-image">
                    {% else %}
                        <div class="car-card-image" style="background: #e0e5ec; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-car fa-3x" style="opacity: 0.3;"></i>
                        </div>
                    {% endif %}
                    
                    {% if car.availability %}
                        <div class="car-status-badge car-status-available">Available</div>
                    {% else %}
                        <div class="car-status-badge car-status-unavailable">Unavailable</div>
                    {% endif %}
                    
                    <div class="car-price-tag">
                        <span class="amount">${{ car.price_per_day }}</span>
                        <span class="period">/day</span>
                    </div>
                </div>
                
                <div class="car-info">
                    <h4 class="car-name">{{ car.name }} {{ car.model }}</h4>
                    
                    <div class="car-meta">
                        <div class="car-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                            <span>({{ forloop.counter|add:"10" }})</span>
                        </div>
                        
                        <span class="car-license">{{ car.number_plate }}</span>
                    </div>
                    
                    <div class="car-features">
                        <div class="car-feature">
                            <i class="fas fa-car"></i>
                            <span>Automatic</span>
                        </div>
                        <div class="car-feature">
                            <i class="fas fa-user-friends"></i>
                            <span>5 Seats</span>
                        </div>
                        <div class="car-feature">
                            <i class="fas fa-suitcase"></i>
                            <span>3 Bags</span>
                        </div>
                        <div class="car-feature">
                            <i class="fas fa-snowflake"></i>
                            <span>A/C</span>
                        </div>
                    </div>
                    
                    <div class="car-action">
                        {% if car.availability %}
                            <a href="{% url 'book_car' car.id %}" class="btn-book-now">
                                <i class="fas fa-calendar-check"></i> Book Now
                            </a>
                        {% else %}
                            <button class="btn-unavailable" disabled>
                                <i class="fas fa-ban"></i> Unavailable
                            </button>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    
    <div class="text-center mt-4">
        <a href="{% url 'car_list' %}" class="btn btn-primary btn-lg">
            <i class="fas fa-car"></i> View All Vehicles
        </a>
    </div>
</section>

<!-- How It Works Section -->
<section id="how-it-works" class="how-it-works">
    <div class="container">
        <div class="section-title fade-in">
            <h2>How It Works</h2>
            <p>Simple, quick, and hassle-free booking process in just a few steps</p>
        </div>
        
        <div class="row mt-5">
            <div class="col-md-3">
                <div class="step-card fade-in" style="animation-delay: 0.1s;">
                    <div class="step-number">1</div>
                    <h4>Select Your Vehicle</h4>
                    <p class="text-muted">Browse our fleet and choose the perfect car for your needs.</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="step-card fade-in" style="animation-delay: 0.2s;">
                    <div class="step-number">2</div>
                    <h4>Choose Date & Location</h4>
                    <p class="text-muted">Select pickup and return dates along with convenient locations.</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="step-card fade-in" style="animation-delay: 0.3s;">
                    <div class="step-number">3</div>
                    <h4>Book & Confirm</h4>
                    <p class="text-muted">Complete your booking with secure online payment and receive confirmation.</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="step-card fade-in" style="animation-delay: 0.4s;">
                    <div class="step-number">4</div>
                    <h4>Enjoy Your Ride</h4>
                    <p class="text-muted">Pick up your car and enjoy the premium driving experience.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Testimonial Section -->
<section class="testimonial-section">
    <div class="container">
        <div class="section-title fade-in">
            <h2>What Our Customers Say</h2>
            <p>Don't just take our word for it - hear from our satisfied customers</p>
        </div>
        
        <div class="row">
            <div class="col-lg-4 fade-in" style="animation-delay: 0.1s;">
                <div class="testimonial-card">
                    <div class="testimonial-quote">"</div>
                    <p class="testimonial-text">LuxeDrive exceeded my expectations. The car was immaculate, and the service was top-notch. Will definitely be my go-to rental service from now on!</p>
                    <div class="testimonial-author">
                        <div class="author-avatar bg-primary d-flex align-items-center justify-content-center text-white">
                            <i class="fas fa-user"></i>
                        </div>
                        <div>
                            <h5 class="author-name">James Wilson</h5>
                            <span class="author-title">Business Executive</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 fade-in" style="animation-delay: 0.2s;">
                <div class="testimonial-card">
                    <div class="testimonial-quote">"</div>
                    <p class="testimonial-text">I rented a luxury sedan for my anniversary weekend, and it made our trip extra special. The online booking process was smooth and the car was exactly as advertised.</p>
                    <div class="testimonial-author">
                        <div class="author-avatar bg-primary d-flex align-items-center justify-content-center text-white">
                            <i class="fas fa-user"></i>
                        </div>
                        <div>
                            <h5 class="author-name">Sarah Johnson</h5>
                            <span class="author-title">Marketing Director</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 fade-in" style="animation-delay: 0.3s;">
                <div class="testimonial-card">
                    <div class="testimonial-quote">"</div>
                    <p class="testimonial-text">The customer service at LuxeDrive is exceptional. When my plans changed last minute, they were incredibly accommodating and helped me modify my reservation with no hassle.</p>
                    <div class="testimonial-author">
                        <div class="author-avatar bg-primary d-flex align-items-center justify-content-center text-white">
                            <i class="fas fa-user"></i>
                        </div>
                        <div>
                            <h5 class="author-name">David Thompson</h5>
                            <span class="author-title">Travel Blogger</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
    <div class="container">
        <h2 class="cta-title fade-in">Ready for an Exceptional Driving Experience?</h2>
        <p class="cta-description fade-in">Join thousands of satisfied customers who have experienced the luxury and convenience of LuxeDrive car rentals.</p>
        <a href="{% url 'car_list' %}" class="btn btn-light btn-lg fade-in">
            <i class="fas fa-car"></i> Book Your Premium Car Now
        </a>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Set minimum date for pickup to today
        const today = new Date().toISOString().split('T')[0];
        const pickupDateInput = document.getElementById('pickup-date');
        const returnDateInput = document.getElementById('return-date');
        
        pickupDateInput.setAttribute('min', today);
        returnDateInput.setAttribute('min', today);
        
        // Set return date min based on pickup date
        pickupDateInput.addEventListener('change', function() {
            returnDateInput.setAttribute('min', this.value);
            
            // If return date is before new pickup date, update it
            if(returnDateInput.value && returnDateInput.value < this.value) {
                returnDateInput.value = this.value;
            }
        });
    });
</script>
{% endblock %}